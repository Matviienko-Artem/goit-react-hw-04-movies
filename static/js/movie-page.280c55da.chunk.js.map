{"version":3,"sources":["components/List/List.js","components/List/List.module.css","styles/MoviePage.module.css","views/MoviesPage.js"],"names":["withRouter","movies","location","query","console","log","className","styles","list","map","id","title","name","poster_path","item","to","pathname","search","state","from","link","src","img","module","exports","MoviesPage","fetchMovies","QUERY","axios","get","then","data","setState","results","handleChange","e","currentTarget","value","handleSubmit","preventDefault","this","onSubmit","Searchbar","type","onChange","autoComplete","autoFocus","placeholder","SearchForm","SearchForm_button","Component"],"mappings":"yIAAA,gDA2BeA,iBAvBF,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,MAEhC,OADAC,QAAQC,IAAIF,GAEV,oBAAIG,UAAWC,IAAOC,KAAtB,SACGP,EAAOQ,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAOC,EAAd,EAAcA,KAAMC,EAApB,EAAoBA,YAApB,OACV,oBAAaP,UAAWC,IAAOO,KAA/B,SACE,eAAC,IAAD,CACEC,GAAI,CAAEC,SAAS,WAAD,OAAaN,GAAMO,OAAO,UAAD,OAAWd,GAASe,MAAO,CAAEC,KAAMjB,IAC1EI,UAAWC,IAAOa,KAFpB,UAIE,qBACEC,IAAG,yCAAoCR,GACvCP,UAAWC,IAAOe,MAEpB,4BAAIX,IACHC,MAVIF,Y,mBCRjBa,EAAOC,QAAU,CAAC,KAAO,mBAAmB,KAAO,mBAAmB,KAAO,mBAAmB,IAAM,oB,mBCAtGD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,kBAAoB,uC,mICIpHC,E,4MACJP,MAAQ,CACNjB,OAAQ,GACRE,MAAO,I,EAGTuB,YAAc,WACZ,IACMC,EAAQ,EAAKT,MAAMf,MAEzByB,IACGC,IADH,4DAHa,mCAGb,4DAEoHF,IAEjHG,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACP,EAAKC,SAAS,CAAE/B,OAAQ8B,EAAKE,c,EAInCC,aAAe,SAAAC,GACb,EAAKH,SAAS,CAAE7B,MAAOgC,EAAEC,cAAcC,S,EAGzCC,aAAe,SAAAH,GACbA,EAAEI,iBAEF,EAAKb,cAEL,EAAKM,SAAS,CAAE7B,MAAO,M,4CAGzB,WAAU,IAAD,EACmBqC,KAAKtB,MAAvBjB,EADD,EACCA,OAAQE,EADT,EACSA,MAEhB,OACE,qCACE,mKACA,uBAAMsC,SAAUD,KAAKF,aAAchC,UAAWC,IAAOmC,UAArD,UACE,uBACEC,KAAK,OACLN,MAAOlC,EACPyC,SAAUJ,KAAKN,aACfW,aAAa,MACbC,WAAS,EACTC,YAAY,iHACZzC,UAAWC,IAAOyC,aAEpB,wBAAQL,KAAK,SAASrC,UAAWC,IAAO0C,kBAAxC,SACE,8BAGJ,cAAC,IAAD,CAAMhD,OAAQA,EAAQE,MAAOA,W,GAnDZ+C,aAyDVzB","file":"static/js/movie-page.280c55da.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport styles from '../List/List.module.css';\r\n\r\nconst List = ({ movies, location, query }) => {\r\n  console.log(query)\r\n  return (\r\n    <ul className={styles.list}>\r\n      {movies.map(({ id, title, name, poster_path }) => (\r\n        <li key={id} className={styles.item}>\r\n          <Link\r\n            to={{ pathname: `/movies/${id}`, search:`?query=${query}`, state: { from: location } }}\r\n            className={styles.link}\r\n          >\r\n            <img\r\n              src={`https://image.tmdb.org/t/p/w500${poster_path}`}\r\n              className={styles.img}\r\n            />\r\n            <p>{title}</p>\r\n            {name}\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default withRouter(List);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"List_list__145jj\",\"item\":\"List_item__11EKL\",\"link\":\"List_link__3twOl\",\"img\":\"List_img__1I3vJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"MoviePage_Searchbar__1r2sb\",\"SearchForm\":\"MoviePage_SearchForm__2m7-Q\",\"SearchForm_button\":\"MoviePage_SearchForm_button__sqRgx\"};","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport List from '../components/List/List';\r\nimport styles from '../styles/MoviePage.module.css';\r\n\r\nclass MoviesPage extends Component {\r\n  state = {\r\n    movies: [],\r\n    query: '',\r\n  };\r\n\r\n  fetchMovies = () => {\r\n    const API_KEY = `d407875648143dbc537f3d16fab2b882`;\r\n    const QUERY = this.state.query;\r\n\r\n    axios\r\n      .get(\r\n        `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${QUERY}`,\r\n      )\r\n      .then(({ data }) => {\r\n        this.setState({ movies: data.results });\r\n      });\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.fetchMovies();\r\n\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    const { movies, query } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <h2>Поиск фильма по названию</h2>\r\n        <form onSubmit={this.handleSubmit} className={styles.Searchbar}>\r\n          <input\r\n            type=\"text\"\r\n            value={query}\r\n            onChange={this.handleChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Начните поиск фильма\"\r\n            className={styles.SearchForm}\r\n          ></input>\r\n          <button type=\"submit\" className={styles.SearchForm_button}>\r\n            <span></span>\r\n          </button>\r\n        </form>\r\n        <List movies={movies} query={query} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviesPage;\r\n"],"sourceRoot":""}